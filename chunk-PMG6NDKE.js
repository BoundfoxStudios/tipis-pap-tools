import{$ as b,M as g}from"./chunk-BTA754KE.js";import{a as A,d as C,e as P,f as l}from"./chunk-CWTPBX7D.js";var T=C((F,y)=>{"use strict";(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof F<"u"?e():(e(),t.FileSaver={})})(F,function(){"use strict";function t(o,a){return typeof a>"u"?a={autoBom:!1}:typeof a!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}function e(o,a,f){var r=new XMLHttpRequest;r.open("GET",o),r.responseType="blob",r.onload=function(){d(r.response,a,f)},r.onerror=function(){console.error("could not download file")},r.send()}function c(o){var a=new XMLHttpRequest;a.open("HEAD",o,!1);try{a.send()}catch{}return 200<=a.status&&299>=a.status}function n(o){try{o.dispatchEvent(new MouseEvent("click"))}catch{var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(a)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,u=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(o,a,f){var r=i.URL||i.webkitURL,s=document.createElement("a");a=a||o.name||"download",s.download=a,s.rel="noopener",typeof o=="string"?(s.href=o,s.origin===location.origin?n(s):c(s.href)?e(o,a,f):n(s,s.target="_blank")):(s.href=r.createObjectURL(o),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){n(s)},0))}:"msSaveOrOpenBlob"in navigator?function(o,a,f){if(a=a||o.name||"download",typeof o!="string")navigator.msSaveOrOpenBlob(t(o,f),a);else if(c(o))e(o,a,f);else{var r=document.createElement("a");r.href=o,r.target="_blank",setTimeout(function(){n(r)})}}:function(o,a,f,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),typeof o=="string")return e(o,a,f);var s=o.type==="application/octet-stream",O=/constructor/i.test(i.HTMLElement)||i.safari,_=/CriOS\/[\d]+/.test(navigator.userAgent);if((_||s&&O||u)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var m=w.result;m=_?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=m:location=m,r=null},w.readAsDataURL(o)}else{var h=i.URL||i.webkitURL,v=h.createObjectURL(o);r?r.location=v:location.href=v,r=null,setTimeout(function(){h.revokeObjectURL(v)},4e4)}});i.saveAs=d.saveAs=d,typeof y<"u"&&(y.exports=d)})});function U(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function j(t,e=!1){let c=U(),n=`_${c}`;return Object.defineProperty(window,n,{value:i=>(e&&Reflect.deleteProperty(window,n),t?.(i)),writable:!1,configurable:!0}),c}function L(c){return l(this,arguments,function*(t,e={}){return new Promise((n,i)=>{let u=j(o=>{n(o),Reflect.deleteProperty(window,`_${d}`)},!0),d=j(o=>{i(o),Reflect.deleteProperty(window,`_${u}`)},!0);window.__TAURI_IPC__(A({cmd:t,callback:u,error:d},e))})})}function p(t){return l(this,null,function*(){return L("tauri",t)})}function k(){return l(this,arguments,function*(t={}){return typeof t=="object"&&Object.freeze(t),p({__tauriModule:"Dialog",message:{cmd:"saveDialog",options:t}})})}function M(t,e){return l(this,null,function*(){let c=typeof e=="string"?{title:e}:e;return p({__tauriModule:"Dialog",message:{cmd:"messageDialog",message:t.toString(),title:c?.title?.toString(),type:c?.type,buttonLabel:c?.okLabel?.toString()}})})}function R(t,e){return l(this,null,function*(){let c=typeof e=="string"?{title:e}:e;return p({__tauriModule:"Dialog",message:{cmd:"confirmDialog",message:t.toString(),title:c?.title?.toString(),type:c?.type,buttonLabels:[c?.okLabel?.toString()??"Ok",c?.cancelLabel?.toString()??"Cancel"]}})})}var S=P(T());function x(t,e,c){return l(this,null,function*(){typeof c=="object"&&Object.freeze(c),typeof t=="object"&&Object.freeze(t);let n={path:"",contents:[]},i=c;return typeof t=="string"?n.path=t:(n.path=t.path,n.contents=t.contents),e&&"dir"in e?i=e:typeof t=="string"&&(n.contents=e??[]),p({__tauriModule:"Fs",message:{cmd:"writeFile",path:n.path,contents:Array.from(n.contents instanceof ArrayBuffer?new Uint8Array(n.contents):n.contents),options:i}})})}var E=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),I=(()=>{let e=class e extends E{message(n){return alert(n),Promise.resolve()}save(n,i){return(0,S.saveAs)(n,i),Promise.resolve()}confirm(n){let i=confirm(n);return Promise.resolve(i)}};e.\u0275fac=(()=>{let n;return function(u){return(n||(n=b(e)))(u||e)}})(),e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),H=(()=>{let e=class e extends E{save(n,i){return l(this,null,function*(){let u=yield k({defaultPath:i});u&&(yield x(u,yield n.arrayBuffer()))})}confirm(n){return R(n)}message(n){return l(this,null,function*(){yield M(n)})}};e.\u0275fac=(()=>{let n;return function(u){return(n||(n=b(e)))(u||e)}})(),e.\u0275prov=g({token:e,factory:e.\u0275fac});let t=e;return t})(),B=()=>!!window.__TAURI__?new H:new I;export{E as a,B as b};
