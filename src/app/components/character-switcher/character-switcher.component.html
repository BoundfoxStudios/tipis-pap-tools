<div class="flex items-center space-x-2">
    <pap-character-switcher-item
        #dropdownTrigger
        [characterName]="currentCharacter().name"
        [group]="currentCharacter().group"
        class="min-w-0 flex-1 cursor-pointer" />
    <fa-icon [icon]="faRepeat" class="text-gray-500 dark:text-gray-400" />
</div>

<div class="z-10 hidden" #dropdownTarget id="character-menu-dropdown">
    <div class="ml-1 rounded-lg bg-gray-50 shadow dark:bg-gray-800">
        @if (charactersWithoutCurrent().length) {
            <div class="max-h-48 space-y-2 overflow-y-auto px-2 py-2">
                @for (character of charactersWithoutCurrent(); track character.id) {
                    <pap-character-switcher-item
                        (click)="selectCharacter(character)"
                        class="block"
                        [characterName]="character.name"
                        [group]="character.group"></pap-character-switcher-item>
                }
            </div>
            <hr class="h-px border-0 bg-gray-200 dark:bg-gray-700" />
        }

        <a [routerLink]="['/characters/create']" class="block px-2 py-3">
            <fa-icon [icon]="faUser" class="mr-1" />
            Neuen Charakter erstellen</a
        >
    </div>
</div>
